<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.0.1 Safari/605.1.15" version="29.0.3">
  <diagram name="Seite-1" id="xsbuwD8mu-KZLsVM8dlW">
    <mxGraphModel dx="1697" dy="1218" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="uR-QqU4OEgSB35mSDw0T-1" value="FeedBundleConfiguration.tsx&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;hasCreatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; &amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;MobiButton&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;label&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;Neues Datenangebot hinzufügen&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onClick&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setShowDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;className&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;margin-bottom-1&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;div style=&quot;color: rgb(204, 204, 204); line-height: 18px;&quot;&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;FeedConfigurationModal&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isOpen&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;showDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;saveNewFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveNewFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;setShowDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setShowDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundles&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;feedBundles&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isEditMode&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isEditMode&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;setIsEditMode&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setIsEditMode&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;selectedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;selectedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;setSelectedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;setShowDeleteModal&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setShowDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;showDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;showDetailsModal&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;saveEditedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveEditedFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;hasCreatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;hasCreatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;hasUpdatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;hasUpdatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;hasDeletePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;hasDeletePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;deleteFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1410" height="2450" as="geometry" />
        </mxCell>
        <mxCell id="uR-QqU4OEgSB35mSDw0T-2" value="FeedBundleConfigurationModal.tsx&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;hasCreatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; || &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;hasUpdatePermission&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;)&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp; &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;MobiButton&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;label&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;Speichern&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onClick&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;handleSaveFeedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(128, 128, 128);&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;div style=&quot;color: rgb(204, 204, 204); line-height: 18px;&quot;&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// If an existing feed bundle was opened for editing&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;(isEditMode) and is to be saved now, call saveEditedFeedBundle,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// otherwise if a new feed bundle is to be created,&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;call saveNewFeedBundle with a scheduler for Mobilithek&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// adapters or without a scheduler for all other adapters.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isEditMode&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;oldSettings&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveEditedFeedBundle&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;oldSettings&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;scheduler&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;previousScheduler&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    } &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;isMobilithekExporterAdapter&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;MODAL_GETTERS&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;selectedAdapter&lt;/span&gt;)) {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveNewFeedBundle&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;scheduler&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    } &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;else&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveNewFeedBundle&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="480" width="1340" height="1960" as="geometry" />
        </mxCell>
        <mxCell id="uR-QqU4OEgSB35mSDw0T-3" value="FeedBundleConfiguration.tsx&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;  &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;   * The function saves the new feedbundle as Dataset to the api and updates the displayed event list. If the scheduler cannot&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;   * be added to the api or if the name of the scheduler already exists, an error message is displayed.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;   */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;  &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;saveNewFeedBundle&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;FeedBundle&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;scheduler&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Scheduler&lt;/span&gt;) &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setFeedBundlesLoading&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; { &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;adapterName&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;title&lt;/span&gt; } &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;adapter&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;getExporterAdapter&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;adapterName&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// add to preference service&lt;/span&gt;&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;preferenceResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;postSettings&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;adapter&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;, &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createSettingsFromFeedBundle&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;));&lt;/div&gt;&lt;br&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// add to CKAN catalog&lt;/span&gt;&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ckanResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;addDataset&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createDatasetFromFeedBundle&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;feedBundle&lt;/span&gt;));&lt;/div&gt;&lt;br&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// add event scheduler&lt;/span&gt;&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;undefined&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;scheduler&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;addScheduler&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;scheduler&lt;/span&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;executeScheduler&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;scheduler&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventName&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;div&gt;      }&lt;/div&gt;&lt;br&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;preferenceResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ckanResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; (&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;||&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt;)) {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setAlert&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;success&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Erfolg&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Das aggregierte Datenangebot &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;title&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt; wurde erfolgreich hinzugefügt`&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;      } &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;else&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// rollback changes if one of the requests fails&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;preferenceResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// delete the added preference because the ckan dataset or the event could not be created&lt;/span&gt;&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteSettingKey&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;adapter&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ckanResponse&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// delete the added dataset from ckan because the preference or the event could not be created&lt;/span&gt;&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteDataset&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt;?.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ok&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// delete the added event because the preference or the ckan dataset could not be created&lt;/span&gt;&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteScheduler&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;scheduler&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventName&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Failed to add dataset: Preference Service: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;preferenceResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statusText&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;, CKAN: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ckanResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statusText&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;, Event Scheduler: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventResponse&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statusText&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        );&lt;/div&gt;&lt;div&gt;      }&lt;/div&gt;&lt;div&gt;    } &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;any&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setAlert&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;error&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Fehler&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Beim Hinzufügen des aggregierten Datenangebots ist folgender Fehler aufgetreten: &lt;/span&gt;&lt;span style=&quot;color: rgb(215, 186, 125);&quot;&gt;\n&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Failed to add dataset: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;loadFeedBundles&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;  };&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="90" y="810" width="1260" height="1590" as="geometry" />
        </mxCell>
        <mxCell id="uR-QqU4OEgSB35mSDw0T-4" value="FeedBundleConfigurationApi.ts&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * The function makes a POST request to the API to add a new dataset into CKAN.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dataset&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - the dataset to be added&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; the response from the API&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;addDataset&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Keycloak&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dataset&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;DatasetRequest&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Response&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;  &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;json&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;JSON&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;stringify&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dataset&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;  &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;fetch&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;CKAN_FACADE_URL&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;, {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;method&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;POST&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;application/json&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Accept&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;*/*&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;          &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Authorization&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Bearer &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;body&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;json&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;      });&lt;/div&gt;&lt;div&gt;      &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Response&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;  } &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Error adding dataset:&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;  }&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="120" y="1860" width="750" height="510" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
