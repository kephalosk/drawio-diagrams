<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.6 Safari/605.1.15" version="28.0.7">
  <diagram name="Seite-1" id="r4iYFjEFNCpqeLtpZYGv">
    <mxGraphModel dx="1566" dy="3410" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="agfUm2PMH6xXJrvRbpF6-1" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-8" target="agfUm2PMH6xXJrvRbpF6-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-3" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-6" target="agfUm2PMH6xXJrvRbpF6-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-6" value="FRESIST-1050" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="-1000" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-15" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-7" target="agfUm2PMH6xXJrvRbpF6-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-17" value="" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-7" target="agfUm2PMH6xXJrvRbpF6-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-7" value="Die Daten aus dem Frontend werden erfolgreich an das Backend übertragen.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ich erhalte je nach Eingabe die dementsprechende Antwort zurück.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Axios Aufruf in service-Ordner verschieben&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="-1080" width="160" height="200" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-8" value="&lt;p style=&quot;text-align: start;&quot;&gt;Als Nutzer möchte ich, dass eine initiale Version als Entwurf bei Anlegen des SiKos abgespeichert wird.&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;Dementsprechend sollen neue Version als Entwurf(Draft) via POST-Endpunkt an das Backend übertragen werden.&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;Das inkludiert:&lt;/p&gt;&lt;ul style=&quot;text-align: start;&quot;&gt;&lt;li&gt;Store anlegen&lt;/li&gt;&lt;li&gt;Service entwickeln, um POST /public-events/{id}/security-concepts/versions/draft zu nutzen und anschließend via GET-Endpunkt (GET /public-events/{id}/security-concepts/versions/draft)&amp;nbsp;die Version abrufen, um sie anzuzeigen&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;text-align: start;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;&lt;strong&gt;betroffene Komponenten:&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;src/features/event-context/components/&lt;strong&gt;PublicEventForm.vue&lt;/strong&gt;&amp;nbsp;&amp;lt;-- hier Button &quot;Veranstaltung speichern&quot;. es geht erstmal darum, die initiale Version zu speichern&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;src/features/concept-versioning/store&amp;nbsp;&amp;lt;-- neuen Store anlegen für jedes feature. hier event versioning&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;src/features/concept-versioning/components/&lt;strong&gt;EventVersionTable.vue&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: start;&quot;&gt;&lt;strong&gt;Task Breakdown:&lt;/strong&gt;&lt;/p&gt;&lt;ol style=&quot;text-align: start;&quot;&gt;&lt;li&gt;&lt;strong&gt;Store anlegen für eventVersioning&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Service anlegen für POST /public-events/{id}/security-concepts/versions/draft&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Service anlegen für GET /public-events/{id}/security-concepts/versions/draft&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;POST-Service-Call auslösen, wenn Button &quot;Veranstaltung speichern&quot; in&lt;/strong&gt;&amp;nbsp;&lt;strong&gt;PublicEventForm.vue geklickt wird bei &quot;Neue Veranstaltung anlegen&quot;&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;GET-Service-Call auslösen, wenn EventVersionTable.vue geladen wird&lt;/strong&gt;&lt;strong&gt;{&lt;/strong&gt;}&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Versioning-&lt;/strong&gt;&lt;strong&gt;Daten in Store speichern, wenn&lt;/strong&gt;&amp;nbsp;&lt;strong&gt;GET-Service-Call ausgeführt wird&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Version-Daten aus Store auslesen in EventVersionTable.vue&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Axios Client nach shared/services verschieben&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Axios Client Struktur ggf. refactoren&lt;/strong&gt;&lt;/li&gt;&lt;/ol&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="200" y="-1240" width="560" height="520" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-19" value="" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-14" target="agfUm2PMH6xXJrvRbpF6-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-22" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;strokeColor=default;" edge="1" parent="1" source="agfUm2PMH6xXJrvRbpF6-14" target="agfUm2PMH6xXJrvRbpF6-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-14" value="Bestehende Axios Implementierung im Frontend verstehen" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1000" y="-1040" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-16" value="Service-Konzept entwickeln" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1000" y="-960" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-18" value="src/features/auth/services/axiosClient.ts:&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;axios&lt;/span&gt;, { &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosInstance&lt;/span&gt;, &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosResponse&lt;/span&gt;, &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;axios&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;useAuthStore&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;@/features/auth/stores/authStore&#39;&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * Creates an axios instance with interceptors for request and response.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{string}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The base URL of the API.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosInstance}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The configured axios instance.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createAxiosClient&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axios&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;create&lt;/span&gt;({&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;application/json&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;    });&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;interceptors&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;use&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Intercepts api requests to add the access token if the user is authenticated.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosRequestConfig}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The axios request configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosRequestConfig}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The modified request configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAuthStore&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isAuthenticated&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;[&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Authorization&#39;&lt;/span&gt;] &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Bearer &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles api request errors.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{any}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The error object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;never&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - A rejected promise with the error.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;never&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;    );&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;interceptors&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;use&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles successful api responses.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosResponse}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The axios response object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosResponse}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The response object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles api response errors. If the user is unauthorized, retry once after token refresh.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{any}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The error object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;AxiosResponse | never&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - A promise resolving to the response or rejecting with the error.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;never&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAuthStore&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;?.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;status&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;===&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;401&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_retry&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_retry&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;refreshUserToken&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;[&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Authorization&#39;&lt;/span&gt;] &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Bearer &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;instance&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[axios] Refresh token failed: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                }&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;    );&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;default&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createAxiosClient&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;align=left;labelPosition=center;verticalLabelPosition=middle;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1160" y="-1760" width="860" height="1480" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-21" value="src/shared/composables/useAxiosClient.ts&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;axios&lt;/span&gt;, {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosInstance&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosRequestConfig&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosResponse&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosError&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;} &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;axios&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;useAuthStore&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;@/features/auth/stores/authStore&#39;&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * Singleton cache for Axios instances keyed by baseURL&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; **/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axiosInstances&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Map&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt;&amp;gt;();&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * Composable to create and provide a configured Axios instance with interceptors.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * Automatically attaches auth token and handles token refresh on 401 errors.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * Supports custom Axios config.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; *&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{string}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The base URL for the Axios instance.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosRequestConfig}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;[config]&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - Optional Axios configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosInstance}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The configured Axios instance.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAxiosClient&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosRequestConfig&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;cacheKey&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;+&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;JSON&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;stringify&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;??&lt;/span&gt; {});&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axiosInstances&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;has&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;cacheKey&lt;/span&gt;)) {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axiosInstances&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;get&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;cacheKey&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axios&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;create&lt;/span&gt;({&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;baseURL&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Content-Type&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;application/json&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    });&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;interceptors&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;use&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Intercepts api requests to add the access token if the user is authenticated.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosRequestConfig}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The axios request configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosRequestConfig}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The modified request configuration.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAuthStore&lt;/span&gt;();&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;refreshUserToken&lt;/span&gt;();&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isAuthenticated&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;[&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Authorization&#39;&lt;/span&gt;] &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Bearer &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles api request errors.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{any}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The error object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;never&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - A rejected promise with the error.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosError&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;never&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[Axios] Request error:&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;    );&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;interceptors&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;use&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles successful api responses.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosResponse}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The axios response object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{AxiosResponse}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The response object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;log&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[Axios] Response received: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;status&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Handles api response errors. If the user is unauthorized, retry once after token refresh.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{any}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The error object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;AxiosResponse | never&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - A promise resolving to the response or rejecting with the error.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosError&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosResponse&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;never&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAuthStore&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;config&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;as&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;InternalAxiosRequestConfig&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_retry&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;boolean&lt;/span&gt; };&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;?.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;status&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;===&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;401&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_retry&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_retry&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;log&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[Axios] Unauthorized. Attempting token refresh...&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;refreshUserToken&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;[&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Authorization&#39;&lt;/span&gt;] &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Bearer &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;authStore&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;instance&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;originalRequest&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;refreshError&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[axios] Token refresh failed:&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;refreshError&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;refreshError&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                }&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;reject&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        },&lt;/div&gt;&lt;div&gt;    );&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;axiosInstances&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;set&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;cacheKey&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;instance&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;align=left;labelPosition=center;verticalLabelPosition=middle;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1160" y="-250" width="860" height="1930" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-24" value="src/features/event-context/store/PublicEventStore.ts&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;ref&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;vue&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;defineStore&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;pinia&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;useAxiosClient&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;@/shared/composables/useAxiosClient&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;PublicEvent&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;../types/PublicEvent&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Pagination&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;../types/PublicEventApi&#39;&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;usePublicEventStore&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;defineStore&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;PublicEventStore&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;    () &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;ref&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;events&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;ref&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt;[]&amp;gt;([]);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;selectedEvent&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;ref&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;undefined&lt;/span&gt;&amp;gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;undefined&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;useAxiosClient&lt;/span&gt;(&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;meta&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;env&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;VITE_RESTAPI_PUBLIC_EVENT_URL&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;pagination&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;ref&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Pagination&lt;/span&gt;&amp;gt;({&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;offset&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;limit&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;10&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;total&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        });&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Action: Fetches a paginated list of public events from the API and updates the store state.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;void&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; A promise that resolves once the data is fetched and the store is updated.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;fetchEvents&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; ()&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;offset&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;number&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;pagination&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;offset&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;limit&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;number&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;pagination&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;limit&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedEvent&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;undefined&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;get&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/public-event&#39;&lt;/span&gt;, {&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;params&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;offset&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;limit&lt;/span&gt; },&lt;/div&gt;&lt;div&gt;                });&lt;/div&gt;&lt;br&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;events&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;as&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt;[];&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setPagination&lt;/span&gt;({&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;total&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;pagination&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;total&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;as&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;number&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                });&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;events&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; [];&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setPagination&lt;/span&gt;({&lt;/div&gt;&lt;div&gt;                    &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;total&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                });&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[PublicEventStore] Failed to fetch events. &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;finally&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Action: Fetches a single event by ID and sets it as the selected event.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The ID of the event to fetch.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;fetchEventById&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;get&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`/public-event/&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedEvent&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedEvent&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;undefined&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[PublicEventStore] Failed to fetch event &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;. &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;finally&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Action: Creates a new event via Public-Event-Api.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The data for the new event.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createEvent&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Partial&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt;&amp;gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;post&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/public-event&#39;&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[PublicEventStore] Failed to create event. &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;finally&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Updates an existing event and updates the store.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The ID of the event to update.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;updatedData&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The updated event data.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;updateEventById&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;updatedData&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Partial&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt;&amp;gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;patch&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`/public-event/&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;updatedData&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[PublicEventStore] Failed to update event &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;. &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;finally&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Action: Deletes an event by ID.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The ID of the event to delete.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteEventById&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;publicEventApi&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;delete&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`/public-event/&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[PublicEventStore] Failed to delete event &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;. &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;finally&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isLoading&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Setter: Updates the pagination object.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - An object with new pagination values. Only transmitted values are updated.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setPagination&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;values&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Partial&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Pagination&lt;/span&gt;&amp;gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;pagination&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;pagination&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;values&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            };&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * Setter: Sets the selected event.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - An event object or undefined to reset the selected state&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;         */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedEvent&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEvent&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;undefined&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;selectedEvent&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;value&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;eventData&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;br&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;isLoading&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;events&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;selectedEvent&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setSelectedEvent&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;pagination&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setPagination&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;fetchEvents&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;fetchEventById&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createEvent&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;updateEventById&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;deleteEventById&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        };&lt;/div&gt;&lt;div&gt;    },&lt;/div&gt;&lt;div&gt;    { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;persist&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt; },&lt;/div&gt;&lt;div&gt;);&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;type&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;PublicEventStoreType&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Omit&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;ReturnType&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;typeof&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;usePublicEventStore&lt;/span&gt;&amp;gt;, &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;keyof&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;ReturnType&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;typeof&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;defineStore&lt;/span&gt;&amp;gt;&amp;gt;;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;align=left;labelPosition=center;verticalLabelPosition=middle;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1160" y="1720" width="860" height="2720" as="geometry" />
        </mxCell>
        <mxCell id="agfUm2PMH6xXJrvRbpF6-25" value="src/features/auth/services/KeycloakService.ts&lt;div&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; line-height: 18px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Keycloak&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;keycloak-js&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;KeycloakConfig&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./KeycloakConfig&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AuthStoreType&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;../stores/authStore&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;type&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;AxiosInstance&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;axios&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;createAxiosClient&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./axiosClient&#39;&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;KeycloakService&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;private&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Keycloak&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;private&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;api&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AxiosInstance&lt;/span&gt;;&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;constructor&lt;/span&gt;() {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Keycloak&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;KeycloakConfig&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;client&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;api&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;createAxiosClient&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;meta&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;VITE_KEYCLOAK_URL&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;/realms/&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;meta&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;VITE_KEYCLOAK_REALM&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;        );&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * Initializes Keycloak adapter and prompt user login. Then run callback.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onAuthenticatedCallback&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The function to be called after authentication&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;login&lt;/span&gt;(&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;onAuthenticatedCallback&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; () &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isAuthenticated&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;init&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;KeycloakConfig&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;initOptions&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;debug&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[keycloak] User is &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; ? &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;authenticated&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt; : &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;not authenticated&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isAuthenticated&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;onAuthenticatedCallback&lt;/span&gt;();&lt;/div&gt;&lt;div&gt;            }&lt;/div&gt;&lt;div&gt;        } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[keycloak] Login failed: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Login failed&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * Initializes authentication store with Keycloak user data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;store&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The store instance that holds authentication data&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;initStore&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;store&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;AuthStoreType&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt;&amp;gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;store&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;setState&lt;/span&gt;(&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[keycloak] Error init store: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Failed to init store&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * Signs off user and ends open keycloak session.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@param&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The redirect parameter (optional)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;logout&lt;/span&gt;(&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;string&lt;/span&gt;)&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;void&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;param&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;redirectUri&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt; } &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; {};&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;logout&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;param&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * Refreshes the authentication token.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;refreshToken&lt;/span&gt;()&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Keycloak&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;|&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;undefined&lt;/span&gt;&amp;gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isRefreshed&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;updateToken&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;KeycloakConfig&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;minTokenValiditySeconds&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;debug&lt;/span&gt;(&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;isRefreshed&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Token was refreshed&#39;&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Token is still valid&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;keycloak&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[keycloak] Error refreshing token: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Failed to refresh token&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;br&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * Calls the OpenID endpoint to get an object with user information.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     * &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;@returns&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;{Promise&amp;lt;KeycloakUserInfo&amp;gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; - The user info object&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;     */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;    &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt; &lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;getUserInfo&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;KeycloakUserInfo&lt;/span&gt;&amp;gt;()&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Promise&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;KeycloakUserInfo&lt;/span&gt;&amp;gt; {&lt;/div&gt;&lt;div&gt;        &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;api&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;get&lt;/span&gt;&amp;lt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;KeycloakUserInfo&lt;/span&gt;&amp;gt;(&lt;/div&gt;&lt;div&gt;                &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;meta&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;env&lt;/span&gt;.&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;VITE_KEYCLOAK_OPENID_ENDPOINT_USERINFO&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;            );&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;response&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;;&lt;/div&gt;&lt;div&gt;        } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;) {&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;.&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[keycloak] Error fetching user info: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;            &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Error&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;[keycloak] Failed to fetch user info&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div&gt;        }&lt;/div&gt;&lt;div&gt;    }&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;default&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;KeycloakService&lt;/span&gt;();&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;glass=0;align=left;labelPosition=center;verticalLabelPosition=middle;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1160" y="4480" width="790" height="1620" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
